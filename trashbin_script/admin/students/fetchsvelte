<script>
  import { onMount } from "svelte";
  import { studentData, studentNames } from '$lib/store/store_students';
  
  onMount(async () => {
    fetch("http://localhost/shenieva-teacher/src/lib/api/fetch_students.php") // Replace with actual student API
    .then(response => response.json())
    .then(data => {
      console.log(data);
      studentData.set(data);
    }).catch(error => {
      console.error("Error fetching student data:", error);
      studentData.set([]); // Ensure store is reset to an empty array on error
    });
  });
  </script>
  
  <main>
    <h1>Student List</h1>
    <ul>
    {#each $studentNames as studentName}
      <li>{studentName}</li>
    {/each}
    </ul>
  </main>
  
  <style>
  /* Add styles if needed */
  </style>
  