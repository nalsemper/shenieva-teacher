CREATE DATABASE shenieva_DB;
USE shenieva_DB;

-- Table: Teachers
CREATE TABLE teacher_table (
    pk_teacherID INT AUTO_INCREMENT PRIMARY KEY,
    idNo VARCHAR(50) UNIQUE NOT NULL,
    teacherName VARCHAR(255) NOT NULL,
    teacherEmail VARCHAR(255) UNIQUE NOT NULL,
    teacherPass VARCHAR(255) NOT NULL,
    teacherGender ENUM('Male', 'Female', 'Other') NOT NULL
);

-- Table: Students
CREATE TABLE students_table (
    pk_studentID INT AUTO_INCREMENT PRIMARY KEY,
    idNo VARCHAR(50) UNIQUE NOT NULL,
    studentName VARCHAR(255) NOT NULL,
    studentPass VARCHAR(255) NOT NULL,
    studentGender ENUM('Male', 'Female') NOT NULL, 
    studentLevel INT NOT NULL,
    studentRibbon INT,
    studentColtrash INT,
    studentProgress INT
);

-- Table: Items
CREATE TABLE items_table (
    itemID INT AUTO_INCREMENT PRIMARY KEY,
    itemName VARCHAR(50) NOT NULL,
    itemDescription TEXT,
    itemLocation VARCHAR(255) -- Path or URL to the item image
);

-- Table: Student Items
CREATE TABLE student_items (
    studentItemID INT AUTO_INCREMENT PRIMARY KEY,
    studentID INT NOT NULL,
    itemID INT NOT NULL,
    FOREIGN KEY (studentID) REFERENCES students_table(pk_studentID) ON DELETE CASCADE,
    FOREIGN KEY (itemID) REFERENCES items_table(itemID) ON DELETE CASCADE,
    UNIQUE (studentID, itemID) -- Prevents duplicate item assignments
);

-- Table: Story 1
CREATE TABLE story1_table (
    pk_storyQuiz1ID INT AUTO_INCREMENT PRIMARY KEY,
    storyQuiz1 TEXT NOT NULL,
    answer BOOLEAN NOT NULL,
    choices TEXT NOT NULL,
    points INT NOT NULL
);

-- Table: Story 2
CREATE TABLE story2_table (
    pk_storyQuiz2ID INT AUTO_INCREMENT PRIMARY KEY,
    storyQuiz2 TEXT NOT NULL,
    answer VARCHAR(255) NOT NULL,
    points INT NOT NULL
);

-- Table: Story 3
CREATE TABLE story3_table (
    pk_storyQuiz3ID INT AUTO_INCREMENT PRIMARY KEY,
    storyQuiz3 TEXT NOT NULL
);

-- Table: Attendance
CREATE TABLE attendance_table (
    pk_attendanceID INT AUTO_INCREMENT PRIMARY KEY,
    fk_studentID INT NOT NULL,
    studentName VARCHAR(100) NOT NULL,
    attendanceDateTime DATETIME NOT NULL,
    FOREIGN KEY (fk_studentID) REFERENCES students_table(pk_studentID) ON DELETE CASCADE
);

-- Table: Quiz 1
CREATE TABLE quiz1_table (
    pk_quiz1ID INT AUTO_INCREMENT PRIMARY KEY,
    fk_studentID INT NOT NULL,
    fk_storyQuiz1ID INT NOT NULL,
    studentAnswer TEXT NOT NULL,
    studentAttempts INT NOT NULL,
    studentPoints INT NOT NULL,
    FOREIGN KEY (fk_studentID) REFERENCES students_table(pk_studentID) ON DELETE CASCADE,
    FOREIGN KEY (fk_storyQuiz1ID) REFERENCES story1_table(pk_storyQuiz1ID) ON DELETE CASCADE
);

-- Table: Quiz 2
CREATE TABLE quiz2_table (
    pk_quiz2ID INT AUTO_INCREMENT PRIMARY KEY,
    fk_studentID INT NOT NULL,
    fk_storyQuiz2ID INT NOT NULL,
    studentAnswer TEXT NOT NULL,
    studentAttempts INT NOT NULL,
    studentPoints INT NOT NULL,
    FOREIGN KEY (fk_studentID) REFERENCES students_table(pk_studentID) ON DELETE CASCADE,
    FOREIGN KEY (fk_storyQuiz2ID) REFERENCES story2_table(pk_storyQuiz2ID) ON DELETE CASCADE
);

-- Table: Quiz 3
CREATE TABLE quiz3_table (
    pk_quiz3ID INT AUTO_INCREMENT PRIMARY KEY,
    fk_studentID INT NOT NULL,
    fk_storyQuiz3ID INT NOT NULL,
    studentAnswer TEXT NOT NULL,
    studentAttempts INT NOT NULL,
    studentPoints INT NOT NULL,
    FOREIGN KEY (fk_studentID) REFERENCES students_table(pk_studentID) ON DELETE CASCADE,
    FOREIGN KEY (fk_storyQuiz3ID) REFERENCES story3_table(pk_storyQuiz3ID) ON DELETE CASCADE
);










-- Insert data into teacher_table
INSERT INTO teacher_table (idNo, teacherName, teacherEmail, teacherPass, teacherGender) VALUES
('T001', 'John Doe', 'johndoe@example.com', 'password123', 'Male'),
('T002', 'Jane Smith', 'janesmith@example.com', 'password123', 'Female'),
('T003', 'Michael Brown', 'michaelbrown@example.com', 'password123', 'Male'),
('T004', 'Emma Johnson', 'emmajohnson@example.com', 'password123', 'Female'),
('T005', 'Liam Williams', 'liamwilliams@example.com', 'password123', 'Male'),
('T006', 'Olivia Martinez', 'oliviamartinez@example.com', 'password123', 'Female'),
('T007', 'Noah Anderson', 'noahanderson@example.com', 'password123', 'Male'),
('T008', 'Sophia Thomas', 'sophiathomas@example.com', 'password123', 'Female'),
('T009', 'James Taylor', 'jamestaylor@example.com', 'password123', 'Male'),
('T010', 'Mia Hernandez', 'miahernandez@example.com', 'password123', 'Female'),
('T011', 'Benjamin Moore', 'benjaminmoore@example.com', 'password123', 'Male'),
('T012', 'Charlotte White', 'charlottewhite@example.com', 'password123', 'Female'),
('T013', 'Lucas Garcia', 'lucasgarcia@example.com', 'password123', 'Male'),
('T014', 'Amelia Rodriguez', 'ameliarodriguez@example.com', 'password123', 'Female'),
('T015', 'Elijah Davis', 'elijahdavis@example.com', 'password123', 'Male');

-- Insert data into students_table
INSERT INTO students_table (idNo, studentName, studentPass, studentGender, studentLevel, studentRibbon, studentColtrash, studentProgress) VALUES
('S001', 'Alice Brown', 'password123', 'Female', 1, 3, 2, 80),
('S002', 'Bob Smith', 'password123', 'Male', 2, 5, 1, 90),
('S003', 'Charlie Johnson', 'password123', 'Male', 3, 2, 3, 70),
('S004', 'Daisy Williams', 'password123', 'Female', 1, 4, 2, 85),
('S005', 'Ethan Martinez', 'password123', 'Male', 2, 3, 4, 75),
('S006', 'Fiona Anderson', 'password123', 'Female', 3, 5, 1, 95),
('S007', 'George Thomas', 'password123', 'Male', 1, 2, 2, 60),
('S008', 'Hannah Taylor', 'password123', 'Female', 2, 4, 3, 88),
('S009', 'Ian Hernandez', 'password123', 'Male', 3, 3, 1, 78),
('S010', 'Jasmine Moore', 'password123', 'Female', 1, 5, 4, 92),
('S011', 'Kevin White', 'password123', 'Male', 2, 2, 3, 76),
('S012', 'Laura Garcia', 'password123', 'Female', 3, 4, 2, 89),
('S013', 'Michael Rodriguez', 'password123', 'Male', 1, 3, 4, 83),
('S014', 'Nancy Davis', 'password123', 'Female', 2, 5, 2, 94),
('S015', 'Oscar Lee', 'password123', 'Male', 3, 4, 1, 77);

-- Insert data into story1_table
INSERT INTO story1_table (storyQuiz1, answer, choices, points) VALUES
('Story 1 Question 1?', TRUE, '["Yes", "No"]', 10),
('Story 1 Question 2?', FALSE, '["True", "False"]', 15),
('Story 1 Question 3?', TRUE, '["Correct", "Incorrect"]', 5),
('Story 1 Question 4?', FALSE, '["Yes", "No"]', 20),
('Story 1 Question 5?', TRUE, '["A", "B", "C"]', 10);

-- Insert data into story2_table
INSERT INTO story2_table (storyQuiz2, answer, points) VALUES
('Story 2 Question 1?', 'Yes', 10),
('Story 2 Question 2?', 'No', 15),
('Story 2 Question 3?', 'Maybe', 5),
('Story 2 Question 4?', 'Always', 20),
('Story 2 Question 5?', 'Never', 10);

-- Insert data into story3_table
INSERT INTO story3_table (storyQuiz3) VALUES
('Story 3 Question 1'),
('Story 3 Question 2'),
('Story 3 Question 3'),
('Story 3 Question 4'),
('Story 3 Question 5');

-- Insert data into attendance_table
INSERT INTO attendance_table (fk_studentID, attendanceDateTime) VALUES
(1, '2025-03-01 08:00:00'),
(2, '2025-03-02 08:15:00'),
(3, '2025-03-03 08:10:00'),
(4, '2025-03-04 08:05:00'),
(5, '2025-03-05 08:20:00');

-- Insert data into quiz1_table
INSERT INTO quiz1_table (fk_studentID, fk_storyQuiz1ID, studentAnswer, studentAttempts, studentPoints) VALUES
(1, 1, 'Yes', 2, 10),
(2, 2, 'False', 1, 15),
(3, 3, 'Correct', 3, 5),
(4, 4, 'No', 2, 20),
(5, 5, 'B', 1, 10);

-- Insert data into quiz2_table
INSERT INTO quiz2_table (fk_studentID, fk_storyQuiz2ID, studentAnswer, studentAttempts, studentPoints) VALUES
(1, 1, 'Yes', 2, 10),
(2, 2, 'No', 1, 15),
(3, 3, 'Maybe', 3, 5),
(4, 4, 'Always', 2, 20),
(5, 5, 'Never', 1, 10);

-- Insert data into quiz3_table
INSERT INTO quiz3_table (fk_studentID, fk_storyQuiz3ID, studentAnswer, studentAttempts, studentPoints) VALUES
(1, 1, 'Answer1', 2, 10),
(2, 2, 'Answer2', 1, 15),
(3, 3, 'Answer3', 3, 5),
(4, 4, 'Answer4', 2, 20),
(5, 5, 'Answer5', 1, 10);

-- Create table for story 1 quizzes
CREATE TABLE quizzes_story1 (
    id INT AUTO_INCREMENT PRIMARY KEY,
    question VARCHAR(255) NOT NULL,
    answer VARCHAR(255) NOT NULL,
    points INT NOT NULL
);

CREATE TABLE choices_story1 (
    id INT AUTO_INCREMENT PRIMARY KEY,
    quiz_id INT NOT NULL,
    choice_text VARCHAR(255) NOT NULL,
    is_correct BOOLEAN NOT NULL DEFAULT FALSE,
    FOREIGN KEY (quiz_id) REFERENCES quizzes_story1(id) ON DELETE CASCADE
);

-- Create table for story 2 quizzes
CREATE TABLE quizzes_story2 (
    id INT AUTO_INCREMENT PRIMARY KEY,
    question VARCHAR(255) NOT NULL,
    answer VARCHAR(255) NOT NULL,
    points INT NOT NULL
);

-- Create table for story 3 quizzes
CREATE TABLE quizzes_story3 (
    id INT AUTO_INCREMENT PRIMARY KEY,
    question VARCHAR(255) NOT NULL,
    points INT NOT NULL
);



